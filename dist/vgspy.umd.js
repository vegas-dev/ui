// @vegas-dev/apps/VGSpy v1.0.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){f=!0,i=t},f:function(){try{l||null==r.return||r.return()}finally{if(f)throw i}}}}var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=Object.assign({speed:500,offset:0,hash:!0},n),e&&this.init(e,r)}var n,a,o;return n=t,a=[{key:"init",value:function(t,e){var n=this,a=t.querySelectorAll("[data-target]").length?t.querySelectorAll("[data-target]"):t.querySelectorAll("a");if(e&&"afterInit"in e&&"function"==typeof e.afterInit&&e.afterInit(n),a.length){var o,i=r(a);try{for(i.s();!(o=i.n()).done;){var l=o.value;l.onclick=function(){var t=n.attributes(this);if(t.target){var e=document.getElementById(t.target);if(!e)return;for(var r=1;r<=a.length;r++)a[r-1].classList.remove("active");this.classList.add("active");var o=e.offsetTop+t.offset;n.scroll(null,o)}return!1},n.spy(l,a)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"scroll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];window.scrollTo(t,e),n&&this.clear()}},{key:"spy",value:function(t,e){var n=this;function r(t,r){var a=n.attributes(t),o=null;if(a.target&&document.getElementById(a.target)&&(o=document.getElementById(a.target)),o){var i=o.offsetTop+a.offset;if(console.log(r,i),r>=i){for(var l=1;l<=e.length;l++)e[l-1].classList.remove("active");t.classList.add("active")}}}r(t,window.scrollY),window.onscroll=function(){r(t,this.pageYOffset)}}},{key:"attributes",value:function(t){var e=t.getAttribute("href")||t.dataset.target;return"undefined"!==e&&-1!==e.indexOf("#")?e=e.replace(/(^.+)#/gm,""):"undefined"!==e&&-1===e.indexOf("#")&&(e=""),{target:e,speed:t.dataset.speed?parseInt(t.dataset.speed):this.settings.speed,offset:t.dataset.offset?parseInt(t.dataset.offset):this.settings.offset}}},{key:"clear",value:function(){var t=document.querySelectorAll("[data-vgspy]");if(t.length){var e,n=r(t);try{for(n.s();!(e=n.n()).done;)for(var a=e.value,o=a.querySelectorAll("[data-target]").length?a.querySelectorAll("[data-target]"):a.querySelectorAll("a"),i=1;i<=o.length;i++)o[i-1].classList.remove("active")}catch(t){n.e(t)}finally{n.f()}}}}],a&&e(n.prototype,a),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(),o=document.querySelectorAll("[data-vgspy]");if(o.length){var i,l=r(o);try{for(l.s();!(i=l.n()).done;){var f=i.value;new a(f,{hash:!(f.dataset.hash&&"false"===f.dataset.hash)})}}catch(t){l.e(t)}finally{l.f()}}t.VGSpy=a}));
